---
title: 应用设置
metaTitle: 应用设置
sidebarDepth: 3
---

# 应用设置

应用设置提供了对多应用，各应用的菜单和后台接口的配置和管理

## 应用

菜单树点击应用设置-> 应用，打开应用页面，如下图所示：

<img :src="$withBase('/userManual/application.png')" alt="image">

应用管理页面列出当前系统配置的应用（范围为该登录用户可操作应用），包括应用名称、编码、类型、上级应用和应用地址，可用根据应用名称进行查询

### 新增应用

点击右上角的新增按钮，系统弹出新增应用页面，如下图所示：

<img :src="$withBase('/userManual/addAapplication.png')" alt="image">

其中应用编码和应用认证密码是此应用后续调用其他应用接口时候需要提供的账号和密码

### 编辑应用

点击操作列里面的编辑按钮 ，系统弹出应用信息编辑页面，修改后保存

### 删除应用

点击操作列里面的删除按钮 ，系统弹出应用删除确认页面

::: warning
如果应用已经被使用，系统禁止删除此应用。
:::


### 同步应用（这个按钮平台中没有）

点击操作列里面的同步按钮 ，系统将自动刷新该应用所实现的所有接口，通过`接口管理`页面可以查看应用对应的接口

### 启停应用

应用列表`是否启用`列用来表明对应应用是否启停用。停用应用相当于提供了对应用的逻辑删除。

::: warning
平台初始化数据脚本配置了预定义的应用配置数据，正常情况下只需要对这些预定义应用的服务器地址按照部署环境进行更新，不需要修改其他配置数据
:::

## 菜单

菜单树点击应用设置-> 菜单，打开菜单页面，如下图所示：

<img :src="$withBase('/userManual/menu.png')" alt="image">

页面包含两部分，左侧菜单树可以选择不同应用下的菜单（所选应用范围为该登录用户可操作应用），点击左侧树节点，右侧显示选中菜单的信息，包括基本信息、国际化配置和菜单对应API信息

### 新增菜单

* 点击右上角的新增按钮，右边的基本信息、国际化和API页面变成可编辑，在基本信息页面，系统自动填充`所属应用`为当前选中的应用，编辑完成各个页面的内容后点击保存完成新菜单的创建
* 如果在点击新增按钮前，没有选中任何菜单，默认创建一级菜单
* 如果在点新增按钮前，选中某个菜单，系统自动填充选中菜单为新增菜单的父节点

<img :src="$withBase('/userManual/addMenu.png')" alt="image">

#### 字段介绍：

* `菜单类型`系统默认支持“菜单分组”，“菜单 – 功能菜单”，“功能”，“菜单 – 工作流”，“菜单 – 定时任务”，“菜单 – 其他”。其中前三项对应菜单树的一二三级菜单，系统会显示前面两级，后面三项只做类型区分，用户可以通过“编码管理”扩展菜单类型。
* `授权类型`用来定义此菜单显示到前提条件，包括无需登录（如登录功能菜单），登录（例如虚拟菜单和收藏菜单功能等），登录并授权。
* `编码`平台通过菜单编码来控制“功能”类型菜单在不同角色下是否可用。例如为“添加用户”功能菜单配置编码为“Add“，前端页面可以获取功能菜单列表是否包含“Add”编码来确定是否为当前用户显示添加用户按钮。
* `URL类型`暂时没有用到
* `功能类型`系统定义了三种功能菜单，系统通用功能，系统高级功能和业务功能。其中管理角色登录后只加载系统通用功能和系统高级功能菜单，普通角色登录后只加载系统通用功能和业务功能菜单。
* `图标`目前平台集成了Font Awesome图标库，找到需要图标对应的标签填充即可，如“fa fa-user-o”。
* `国际化`点击国际化 Tab如下图所示：

    <img :src="$withBase('/userManual/menuLocate.png')" alt="image">

点击国际化Tab左上角的添加按钮，可以为当前菜单添加多个语言标签，也可以通过删除按钮删除配置的语言标签。用户登录后，系统自动根据用户选择的语言匹配显示对应的菜单标签

* `API`点击API Tab如下图所示：

    <img :src="$withBase('/userManual/menuAPI.png')" alt="image">

API Tab页面对操作只对功能菜单有效

其中右边下方部分为按照应用过滤的接口列表，右边上方部分为当前菜单配置的接口列表，通过为当前菜单配置对应接口完成菜单页面和页面访问接口的绑定

### 编辑菜单

选中某个菜单，点击右上角的编辑按钮，右边的基本信息、国际化和API页面变成可编辑，修改完成各个页面内容后点击保存完成新菜单的编辑

### 删除菜单

选中某个菜单，点击右上角的删除按钮，系统弹出删除确认页面

::: warning
* 已经使用中的菜单不能被删除
* 系统虽然提供了以上各种功能，但是因为平台初始化数据脚本包含了各个预定义应用的菜单配置数据，正常情况下只需要根据需要对菜单配置国际化资源，不需要修改其他配置数据
:::

## 菜单定制

菜单树点击应用设置-> 菜单定制，打开菜单定制页面，如下图所示:

<img :src="$withBase('/userManual/menuCustom.png')" alt="image">

页面包含两部分，左侧菜单树可以选择不同的定制菜单，点击左侧树节点，右侧显示选中菜单的信息，包括基本信息、国际化配置和关联菜单信息

### 新增菜单定制

* 点击右上角的新增按钮，右边的基本信息、国际化和关联菜单页面变成可编辑，编辑完成各个页面的内容后点击保存完成新菜单的创建
* 如果在点击新增按钮前，没有选中任何菜单，默认创建一级菜单
* 如果在点击新增按钮前，选中某个菜单，系统自动填充选中菜单为新增菜单的父节点

<img :src="$withBase('/userManual/addMenuCustom.png')" alt="image">

::: warning
新增的菜单定制ID不可包含字符"-"
:::

### 菜单复制、剪切、粘贴

选中某个菜单鼠标右击，选择对应操作（复制，剪切），然后再选择一个菜单，鼠标右击，选择粘贴

<img :src="$withBase('/userManual/menuCopy.jpg')" alt="image">

#### 字段介绍

* `菜单类型`系统默认支持“组合”，“分组”，“菜单”。其中这三项对应菜单树的一二三级菜单，系统会显示后面两级。
* `国际化`点击国际化Tab按钮，可以为当前菜单添加多个语言标签，也可以通过按钮删除配置的语言标签。用户登录后，系统自动根据用户选择的语言匹配显示对应的菜单标签

* `关联菜单`点击关联菜单 Tab如下图所示：

    <img :src="$withBase('/userManual/contextMenu.png')" alt="image">

    * 关联菜单 Tab页面操作关联菜单，其中右边部分为按照应用过滤的菜单列表，通过为当前菜单关联对应菜单完成菜单定制页面和页面访问接口的绑定
    * 绑定之后如需排序需要手动设置rankId进行排序
    * 查看已关联菜单
    <img :src="$withBase('/userManual/viewContextMenu.png')" alt="image">



### 删除菜单定制

点击删除按钮删除菜单定制

::: warning 
删除菜单定制时需要首先把权限部分涉及到的已经授予角色的权限菜单取消掉
:::


## API接口

菜单树点击应用设置-> API接口，打开接口页面，如下图所示：

<img :src="$withBase('/userManual/api.png')" alt="image">

*页面提供了按照不同条件查询接口功能，可选的查询条件包括状态，所属应用，菜单类型，URL，菜单名称和标签，其中菜单名称支持模糊匹配

### 新增接口

点击右上角的新增按钮，系统弹出新增接口界面，如下图所示：

<img :src="$withBase('/userManual/addApi.png')" alt="image">

其中名称，ID,接口标签，URL和所属应用必填，编码和新增菜单编码可实现功能一样，日志类型根据需要填写和此接口相关联日志处理接口类全名

### 删除接口

点击要删除接口操作列里面的删除按钮 ，系统弹出接口删除确认页面

::: warning
如果接口已经被使用，系统禁止删除此接口
:::

### 编辑借口

点击要编辑接口操作列里面的编辑按钮 ，系统弹出接口编辑页面，修改后保存即可

### 查看配置菜单

点击要查看接口操作列里面的查看按钮 ，系统弹出接口对应菜单列表页面

<img :src="$withBase('/userManual/viewApi.png')" alt="image">

### 启停接口

接口列表是否启用列用来表明对应接口是否启停用，停用接口相当于提供了对接口的逻辑删除

::: warning 
系统虽然提供了以上各种功能，但是因为平台初始化数据脚本包含了各个预定义应用的接口配置数据，正常情况下用户不需要修改接口列表里面的数据。除非特别需要，可以通过“应用管理”里面的“同步应用”操作来完成接口配置数据和实际系统实现接口之间的数据同步
:::

## 多租户

菜单树点击应用设置-> 多租户，打开多租户页面，如下图所示：

<img :src="$withBase('/userManual/tenant.png')" alt="image">

* 多租户管理页面列出所有租户信息，包括租户名称、logo、税号、邮箱、手机号码和地址等信息

* 租户信息下方的功能项依次为：个性化配置租户、编辑租户、刷新租户、删除租户

### 新增租户

点击右上角的新增按钮，系统弹出新增租户界面，如下图所示：

<img :src="$withBase('/userManual/addTenant.png')" alt="image">

其中名称必填，点击logo图片可以修改logo图片

### 删除租户

点击要删除租户的删除按钮 ，系统弹出租户删除确认页面

::: warning
如果租户已经被使用，系统禁止删除此租户
:::

### 编辑租户

点击要编辑租户的编辑按钮 ，系统弹出租户编辑页面，修改后保存即可

### 刷新缓存

点击刷新租户缓存

### 个性化配置租户

点击要配置租户的配置按钮，系统弹出租户配置页面，如下图所示：

<img :src="$withBase('/userManual/configTenant.png')" alt="image">

::: warning
* 菜单定制是和应用关联的，应用根据选择的菜单组合自动关联。

    菜单定制是定制该租户首页的显示菜单，任务定制是定制我的任务和历史任务页面的显示字段。

* 首页是配置租户的首页，修改菜单定制组合后首页必须做相应修改。
* 密码过期提示是限制该租户下的用户账号密码还剩多少天过期提示配置的。
* 密码有效时间是限制该租户下的用户账号密码有效时间配置的。
* 密码历史个数是限制该租户下的用户账号密码修改多少次不能重复配置的。
* 密码强度是限制该租户下的用户账号密码所配置的。
:::


## 租户信息

菜单树点击应用设置-> 租户信息，打开租户信息页面，如下图所示：

<img :src="$withBase('/userManual/tenantInfo.png')" alt="image">

租户信息页面展示了当前登录用户所属租户的详细信息，包括租户名称、logo、税号、邮箱、手机号码、地址、关联的定制菜单、定制任务、应用等基本信息和配置信息。
修改租户信息点击保存按钮

## 租户菜单

当前用户建立租户后，通过配置租户（关联应用和设定主页菜单）、应用下建立角色、设定角色的菜单、租户下建立组织、组织下新建用户并添加用户角色等操作，最终生成了租户下用户的菜单。具体步骤如下所示：

- 新增租户
点击多租户菜单右上角的`新增`按钮，系统弹出新增租户界面，如下图所示：

<img :src="$withBase('/userManual/tenantEdit.jpg')" alt="tenantEdit">

## 租户文件系统

菜单树点击“应用设置”-> “租户文件系统”，打开页面。如图所示。

<img :src="$withBase('/userManual/tenantFile.jpg')" alt="tenantFile">

页面提供了按照不同条件查询接口功能，可选的查询条件包括租户，文件类型，文件名称，描述。下面显示对应文件的列表。
页面还包含`上传`，`预览`，`编辑`，`下载`，`删除`功能。

- 上传

点击`upload`按钮弹出新增文件弹出框如下：

<img :src="$withBase('/userManual/tenantFileUpload.jpg')" alt="tenantFileUpload">

选择文件，选择类型，填入描述，点击`确认`按钮

- 预览

点击列表右边的操作按钮<img :src="$withBase('/userManual/eye.jpg')" alt="eye"> 预览当前的文件

- 编辑

点击列表右边的操作按钮 打开当前的文件`编辑`弹出框如下：

<img :src="$withBase('/userManual/tenantFileEdit.jpg')" alt="tenantFileEdit">

- 下载

点击列表右边的操作按钮<img :src="$withBase('/userManual/tenantFileDownload.jpg')" alt="tenantFileDownload"> 下载当前的文件

## 系统配置管理

菜单树点击“应用设置”-> “系统配置”，打开页面。如图所示。

<img :src="$withBase('/userManual/configDisplay.jpg')" alt="configDisplay">

界面显示配置参数的列表,提供了按照配置参数的`key`模糊查询，参数的修改，参数修改历史功能

点击列表操作右边的编辑按钮修改参数如下：

<img :src="$withBase('/userManual/configEdit.jpg')" alt="configEdit">

点击列表操作右边的<img :src="$withBase('/userManual/eye.jpg')" alt="eye">查看修改记录按钮，弹出当前参数的修改历史记录列表如下：

<img :src="$withBase('/userManual/configEdit.jpg')" alt="configEdit">

点击<img :src="$withBase('/userManual/configViewHistory.jpg')" alt="configViewHistory">查看参数历史修改记录，弹出所有配置参数的历史修改记录如下：

<img :src="$withBase('/userManual/configViewHistoryList.jpg')" alt="configViewHistoryList">
